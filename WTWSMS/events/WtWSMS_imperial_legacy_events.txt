###############################
# Imperial legacy events
#
# imperial_legacy.1 -> imperial_legacy.4 Nicknames
# imperial_legacy.10 -> imperial_legacy.41 Realm decisions
# imperial_legacy.42 -> imperial_legacy.50 Events
###############################

namespace = imperial_legacy

#Give nickname "Augustus" to Western Roman Emperors.
character_event = {
	id = imperial_legacy.1
	hide_window = yes
	
	only_independent = yes
	only_rulers = yes
	
	trigger = {
		AND = {
			has_landed_title = e_wre
			has_romance_culture_trigger = yes
			has_nickname = no
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		if = {
			limit = {
				is_female = no
			}
			give_nickname = nick_caesar_augustus # Augustus for male character
		}
		else = {
			give_nickname = nick_caesar_augusta # Augusta for female character
		}
	}
	
	option = {
		name = OK
	}
}

#Remove nickname "Augustus" from deposed Western Roman Emperors.
character_event = {
	id = imperial_legacy.2
	hide_window = yes
	
	trigger = {
		AND = {
			OR = {
				has_nickname = nick_caesar_augustus
				has_nickname = nick_caesar_augusta
			}
			NOT = {
				has_landed_title = e_wre
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		if = {
			limit = {
				has_nickname = nick_caesar_augustus
			}
			remove_nickname = nick_caesar_augustus
		}
		else = {
			remove_nickname = nick_caesar_augusta
		}
	}
	
	option = {
		name = OK
	}
}

# Roman agnomen for military achievements (vanquished opponent culture)
# Fired via on_major_battle_won_leader
# ROOT is winning army leader
# FROM is opponent army leader
character_event = {
	id = imperial_legacy.3
	desc = imperial_legacy.3.desc
	picture = GFX_evt_roman_emperor_salute
	
	is_triggered_only = yes
	
	only_rulers = yes
	
	trigger = {
		has_nickname = no
		has_romance_culture_trigger = yes
		any_war = { war_score = 50 } # Winning the war
		
		FROM = {
			OR = {
				culture = vandalic
				culture = gothic
				culture = sarmatian
				culture = parthian
				culture = isaurian
				culture = alamannian
				culture = old_frankish
				culture = persian
				culture = gallic
				culture = armenian
				culture = alan
				culture = macedonian
				culture = thracian
				culture = pontic
			}
		}
	}
	
	option = {
		name = imperial_legacy.3.a

		# Culture of vanquished opponent
		FROM = {
			trigger_switch = {
				on_trigger = culture
				vandalic		= { ROOT = { give_nickname = nick_vandalicus } }
				gothic			= { ROOT = { give_nickname = nick_gothicus } }
				sarmatian		= { ROOT = { give_nickname = nick_sarmaticus } }
				parthian		= { ROOT = { give_nickname = nick_parthicus } }
				isaurian		= { ROOT = { give_nickname = nick_isauricus } }
				alamannian		= { ROOT = { give_nickname = nick_alamannicus } }
				antae			= { ROOT = { give_nickname = nick_anticus } }
				old_frankish	= { ROOT = { give_nickname = nick_francicus } }
				briton			= { ROOT = { give_nickname = nick_britannicus } }
				persian			= { ROOT = { give_nickname = nick_persicus } }
				gallic			= { ROOT = { give_nickname = nick_gallicus } }
				dacian			= { ROOT = { give_nickname = nick_dacicus } }
				armenian		= { ROOT = { give_nickname = nick_armeniacus } }
				alan			= { ROOT = { give_nickname = nick_alanicus } }
				macedonian		= { ROOT = { give_nickname = nick_macedonicus } }
				thracian		= { ROOT = { give_nickname = nick_thracus } }
				pontic			= { ROOT = { give_nickname = nick_ponticus } }
			}
		}
	}
}

# Roman agnomen for military achievements (region of major battle)
# on_major_battle_won_leader
# ROOT is winning army leader
# FROM is opponent army leader
character_event = {
	id = imperial_legacy.4
	desc = imperial_legacy.4.desc
	picture = GFX_evt_roman_emperor_salute
	
	is_triggered_only = yes
	
	only_rulers = yes
	
	trigger = {
		has_nickname = no
		has_romance_culture_trigger = yes
		any_war = { war_score = 50 } # Winning the war
		
		# Covered by imperial_legacy.3
		FROM = {
			NOR = {
				culture = vandalic
				culture = gothic
				culture = sarmatian
				culture = parthian
				culture = isaurian
				culture = alamannian
				culture = old_frankish
				culture = persian
				culture = gallic
				culture = armenian
				culture = alan
				culture = macedonian
				culture = thracian
				culture = pontic
			}
		}

		location = {
			OR = {
				region = custom_diocese_aegyptus
				region = custom_diocese_africa
				region = custom_diocese_armenia
				region = custom_diocese_asiana
				region = custom_diocese_hispaniae
				region = custom_diocese_britannia
				region = custom_diocese_italia_annonaria
				region = custom_diocese_italia_suburbicaria
				region = custom_diocese_raetia_noricum
				region = custom_diocese_gallia
				region = custom_diocese_sevenprovinces
				region = custom_diocese_oriens
				region = custom_diocese_thrace
				region = custom_diocese_pontica
			}
		}
	}
	
	option = {
		name = imperial_legacy.4.a

		# Default to the region of major battle
		location = {
			if = {
				limit = { region = custom_diocese_aegyptus }
				if = {
					limit = { ROOT = { is_female = yes } }
					ROOT = { give_nickname = nick_aegypta }
				}
				else = {
					ROOT = { give_nickname = nick_aegyptus }
				}
			}
			else_if = {
				limit = { region = custom_diocese_africa }
				if = {
					limit = { ROOT = { is_female = yes } }
					ROOT = { give_nickname = nick_africana }
				}
				else = {
					ROOT = { give_nickname = nick_africanus }
				}
			}
			else_if = {
				limit = { region = custom_diocese_armenia }
				if = {
					limit = { ROOT = { is_female = yes } }
					ROOT = { give_nickname = nick_armeniaca }
				}
				else = {
					ROOT = { give_nickname = nick_armeniacus }
				}
			}
			else_if = {
				limit = { region = custom_diocese_asiana }
				if = {
					limit = { ROOT = { is_female = yes } }
					ROOT = { give_nickname = nick_asiatica }
				}
				else = {
					ROOT = { give_nickname = nick_asiaticus }
				}
			}
			else_if = {
				limit = { region = custom_diocese_hispaniae }
				if = {
					limit = { ROOT = { is_female = yes } }
					ROOT = { give_nickname = nick_hispanica }
				}
				else = {
					ROOT = { give_nickname = nick_hispanicus }
				}
			}
			else_if = {
				limit = { region = custom_diocese_britannia }
				if = {
					limit = { ROOT = { is_female = yes } }
					ROOT = { give_nickname = nick_britannica }
				}
				else = {
					ROOT = { give_nickname = nick_britannicus }
				}
			}
			else_if = {
				limit = {
					OR = {
						region = custom_diocese_italia_annonaria
						region = custom_diocese_italia_suburbicaria
						region = custom_diocese_raetia_noricum
					}
				}
				if = {
					limit = { ROOT = { is_female = yes } }
					ROOT = { give_nickname = nick_italica }
				}
				else = {
					ROOT = { give_nickname = nick_italicus }
				}
			}
			else_if = {
				limit = {
					OR = {
						region = custom_diocese_gallia
						region = custom_diocese_sevenprovinces
					}
				}
				if = {
					limit = { ROOT = { is_female = yes } }
					ROOT = { give_nickname = nick_gallica }
				}
				else = {
					ROOT = { give_nickname = nick_gallicus }
				}
			}
			else_if = {
				limit = { region = custom_diocese_oriens }
				if = {
					limit = { ROOT = { is_female = yes } }
					ROOT = { give_nickname = nick_arabica }
				}
				else = {
					ROOT = { give_nickname = nick_arabicus }
				}
			}
			else_if = {
				limit = { region = custom_diocese_thrace }
				if = {
					limit = { ROOT = { is_female = yes } }
					ROOT = { give_nickname = nick_thraca }
				}
				else = {
					ROOT = { give_nickname = nick_thracus }
				}
			}
			else_if = {
				limit = { region = custom_diocese_pontica }
				if = {
					limit = { ROOT = { is_female = yes } }
					ROOT = { give_nickname = nick_pontica }
				}
				else = {
					ROOT = { give_nickname = nick_ponticus }
				}
			}
		}
	}
}

####  Realm decisions

#  Restoration of the Roman Empire
narrative_event = {
	id = imperial_legacy.10
	title = imperial_legacy.10.name
	desc = imperial_legacy.10.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = imperial_legacy.10.a
		
		prestige = 2000
		custom_tooltip = {
			text = imperial_legacy.10.a.tooltip
		}
	}
}

#  Restoration of the Western Roman Empire
narrative_event = {
	id = imperial_legacy.11
	title = imperial_legacy.11.name
	desc = imperial_legacy.11.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = imperial_legacy.11.a
		
		primary_title = {
			save_event_target_as = target_primary_title
		}
		
		e_wre = {
			grant_title = ROOT
			hidden_tooltip = {
				make_primary_title = yes
				if = {
					limit = {
						NOT = { holder_scope = { government = bureaucratic_government } }
					}
					set_title_flag = wre_restored # For bureaucratic government
				}
			}
			event_target:target_primary_title = {
				e_wre = {
					copy_title_laws = PREV
					copy_title_history = PREV
				}
			}
		}
		prestige = 1000
		
		e_byzantium = {
			holder_scope = {
				narrative_event = { id = imperial_legacy.12 }
			}
		}
		
		if = {
			limit = {
				NOT = { has_global_flag = great_schism }
				ROOT = { religion = nicene }
			}
			d_papal_state = {
				holder_scope = {
					narrative_event = { id = imperial_legacy.15 }
				}
			}
		}
		
		else_if = {
			limit = {
				has_global_flag = great_schism
				ROOT = { religion = catholic }
			}
			ROOT = { narrative_event = { id = imperial_legacy.18 } }
		}
		
		custom_tooltip = {
			text = imperial_legacy.11.a.tooltip
		}
	}
}

#  ERE answer to restoration of WRE
narrative_event = {
	id = imperial_legacy.12
	title = imperial_legacy.12.name
	desc = imperial_legacy.12.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = imperial_legacy.12.a # Recognise the new ruler, should do unless ambitious or hates WRE ruler and has picked picked "Sole Roman Empire" decision
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				trait = ambitious
			}
			modifier = {
				factor = 0.5
				trait = proud
			}
			modifier = {
				factor = 0
				opinion_diff = {
					first = FROM
					second = ROOT
					value = 50
				}
			}
		}
		hidden_tooltip = {
			ROOT = {
				if = {
					limit = {
						has_weak_claim = e_roman_empire
					}
					# Remove any claim gained by "Sole Roman Empire" decision
					remove_claim = e_roman_empire
				}
			}
		}
		set_global_flag = ere_recognised_wre
		custom_tooltip = {
			text = imperial_legacy.12.a.tooltip
		}
		e_wre = {
			holder_scope = {
				narrative_event = { id = imperial_legacy.13 }
			}
		}
	}
	
	option = {
		name = imperial_legacy.12.b # Refuse to recognise the new ruler, shouldn't do unless ambitious, proud or hates WRE ruler and in all cases need to have picked "Sole Roman Empire" decision
		ai_chance = {
			factor = 0
			modifier = {
				factor = 10
				has_weak_claim = e_roman_empire
				trait = ambitious
			}
			modifier = {
				factor = 5
				has_weak_claim = e_roman_empire
				trait = proud
			}
			modifier = {
				factor = 10
				opinion_diff = {
					first = FROM
					second = ROOT
					value = 50
				}
				has_weak_claim = e_roman_empire
			}
		}
		set_global_flag = ere_not_recognised_wre
		custom_tooltip = {
			text = imperial_legacy.12.b.tooltip
		}
		e_wre = {
			holder_scope = {
				narrative_event = { id = imperial_legacy.14 }
			}
		}
	}
}

#  ERE recognises WRE
narrative_event = {
	id = imperial_legacy.13
	title = imperial_legacy.13.name
	desc = imperial_legacy.13.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = imperial_legacy.13.a
		
		prestige = 100
	}
}

#  ERE does not recognise WRE
narrative_event = {
	id = imperial_legacy.14
	title = imperial_legacy.14.name
	desc = imperial_legacy.14.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = imperial_legacy.14.a
		
		prestige = -100
	}
}

# Nicene Pope answer to restoration of WRE
narrative_event = {
	id = imperial_legacy.15
	title = imperial_legacy.15.name
	desc = imperial_legacy.15.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = OK # Recognise the new ruler, should do unless hates WRE ruler
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				trait = ambitious
			}
			modifier = {
				factor = 0.5
				trait = proud
			}
			modifier = {
				factor = 0
				opinion_diff = {
					first = FROM
					second = ROOT
					value = 50
				}
			}
		}
		if = {
			limit = {
				has_global_flag = ere_not_recognised_wre
			}
			hidden_tooltip = {
				any_playable_ruler = {
					limit = {
						religion = nicene
						controls_religion = yes
						has_landed_title = d_papal_state
					}
					character_event = { id = HRE.4 } # The Great Schism
				}
			}
		
		}
		
		e_wre = {
			holder_scope = {
				narrative_event = { id = imperial_legacy.16 }
			}
		}
		
		set_global_flag = nicene_pope_recognised_wre

	}
	option = {
		name = OK # Refuse to recognise the new ruler, shouldn't do unless hates WRE ruler
		
		ai_chance = {
			factor = 0
			modifier = {
				factor = 10
				opinion_diff = {
					first = FROM
					second = ROOT
					value = 50
				}
			}
			modifier = {
				factor = 10
				trait = ambitious
			}
			modifier = {
				factor = 5
				trait = proud
			}
		}
		
		e_wre = {
			holder_scope = {
				narrative_event = { id = imperial_legacy.17 }
			}
		}
		
		set_global_flag = nicene_pope_not_recognised_wre
	}
}

#  Nicene Pope recognises WRE
narrative_event = {
	id = imperial_legacy.16
	title = imperial_legacy.16.name
	desc = imperial_legacy.16.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = imperial_legacy.16.a
		
		piety = 100
	}
}

#  Nicene Pope does not recognise WRE
narrative_event = {
	id = imperial_legacy.17
	title = imperial_legacy.17.name
	desc = imperial_legacy.17.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = imperial_legacy.17.a
		
		ai_chance = {
			factor = 10
		}
		
		piety = -100
	}
	
	option = {
		name = imperial_legacy.17.b
		
		ai_chance = {
			factor = 0
		}
		
		piety = -100
		
		war = {
			target = FROM
			casus_belli = overthrow_ruler
		}
	}
}

#  WRE ruler chooses how to act with Catholic Pope after restoration
narrative_event = {
	id = imperial_legacy.18
	title = imperial_legacy.18.name
	desc = imperial_legacy.18.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = imperial_legacy.18.a # Give Rome to Pope - Makes the Pope satisfied, he recognises the new WRE ruler, vassalises and more hostile towards East, but might ask for more later
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				trait = zealous
			}
			modifier = {
				factor = 0
				opinion_diff = {
					first = FROM
					second = ROOT
					value = 50
				}
			}
		}
		
		k_papal_state = {
			holder_scope = {
				narrative_event = { id = imperial_legacy.19 }
				if = {
					limit = {
						NOT = { has_landed_title = b_roma }
					}
					ROOT = {
						b_roma = {
							grant_title = PREV
						}
					}
				}
			}
		}
	}
	
	option = {
		name = imperial_legacy.18.b # Do not give Rome to the Pope - Makes the Pope irritated, does not recognise the new WRE ruler and excommunicates him #add more flavour making Rome into capital
		
		ai_chance = {
			factor = 0
			modifier = {
				factor = 0
				trait = zealous
			}
			modifier = {
				factor = 10
				opinion_diff = {
					first = FROM
					second = ROOT
					value = 50
				}
			}
		}
				
		k_papal_state = {
			holder_scope = {
				narrative_event = { id = imperial_legacy.20 }
			}
		}
	}

}

# Catholic Pope gets Roma from WRE
narrative_event = {
	id = imperial_legacy.19
	title = imperial_legacy.19.name
	desc = imperial_legacy.19.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = OK # Recognise the new WRE ruler
		
		e_wre = {
			holder_scope = {
				narrative_event = { id = imperial_legacy.21 }
			}
		}
		
		any_playable_ruler = {
			limit = {
				religion = ROOT
			}
			narrative_event = { id = imperial_legacy.23 }
		}
	}
}

# Catholic Pope does not get Roma from WRE
narrative_event = {
	id = imperial_legacy.20
	title = imperial_legacy.20.name
	desc = imperial_legacy.20.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = OK # Refuse to recognise the new WRE ruler
		
		FROM = {
			excommunicate = yes
		}
		
		e_wre = {
			holder_scope = {
				narrative_event = { id = imperial_legacy.22 }
			}
		}
		
		any_playable_ruler = {
			limit = {
				religion = ROOT
			}
			narrative_event = { id = imperial_legacy.24 }
		}
	}
}

# Catholic Pope recognises WRE
narrative_event = {
	id = imperial_legacy.21
	title = imperial_legacy.21.name
	desc = imperial_legacy.21.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = imperial_legacy.21.a
		
		piety = 100
	}
}

# Catholic Pope does not recognise WRE
narrative_event = {
	id = imperial_legacy.22
	title = imperial_legacy.22.name
	desc = imperial_legacy.22.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = imperial_legacy.22.a
		
		piety = -100
	}
}
	
# INFO - Catholic Pope recognises WRE
narrative_event = {
	id = imperial_legacy.23
	title = imperial_legacy.23.name
	desc = imperial_legacy.23.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = imperial_legacy.23.a
	}
}

# INFO - Catholic Pope does not recognise WRE
narrative_event = {
	id = imperial_legacy.24
	title = imperial_legacy.24.name
	desc = imperial_legacy.24.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = imperial_legacy.24.a
	}
}


# Restoration of the Eastern Roman Empire
narrative_event = {
	id = imperial_legacy.25
	title = imperial_legacy.25.name
	desc = imperial_legacy.25.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = imperial_legacy.25.a
		
		primary_title = {
			save_event_target_as = target_primary_title
		}
		
		e_byzantium = {
			grant_title = ROOT
			hidden_tooltip = {
				make_primary_title = yes
				if = {
					limit = {
						NOT = { holder_scope = { government = bureaucratic_government } }
					}
					set_title_flag = ere_restored # For bureaucratic government
				}
			}
			event_target:target_primary_title = {
				e_byzantium = {
					copy_title_laws = PREV
					copy_title_history = PREV
				}
			}
		}
		prestige = 1000
		
		e_wre = {
			holder_scope = {
				narrative_event = { id = imperial_legacy.26 }
			}
		}
		
		if = {
			limit = {
				NOT = { has_global_flag = great_schism }
				ROOT = { religion = nicene }
			}
			d_orthodox = {
				holder_scope = {
					narrative_event = { id = imperial_legacy.29 }
				}
			}
		}
		
		else_if = {
			limit = {
				has_global_flag = great_schism
				ROOT = { religion = orthodox }
			}
			ROOT = { narrative_event = { id = imperial_legacy.32 } }
		}
		
		custom_tooltip = {
			text = imperial_legacy.25.a.tooltip
		}
	}
}

# WRE answer to restoration of ERE
narrative_event = {
	id = imperial_legacy.26
	title = imperial_legacy.26.name
	desc = imperial_legacy.26.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = imperial_legacy.26.a # Recognise the new ruler, should do unless ambitious or hates WRE ruler and has picked picked "Sole Roman Empire" decision
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				trait = ambitious
			}
			modifier = {
				factor = 0.5
				trait = proud
			}
			modifier = {
				factor = 0
				opinion_diff = {
					first = FROM
					second = ROOT
					value = 50
				}
			}
		}
		hidden_tooltip = {
			ROOT = {
				if = {
					limit = {
						has_weak_claim = e_roman_empire
					}
					# Remove any claim gained by "Sole Roman Empire" decision
					remove_claim = e_roman_empire
				}
			}
		}
		set_global_flag = wre_recognised_ere
		custom_tooltip = {
			text = imperial_legacy.26.a.tooltip
		}
		e_byzantium = {
			holder_scope = {
				narrative_event = { id = imperial_legacy.27 }
			}
		}
	}
	
	option = {
		name = imperial_legacy.26.b # Refuse to recognise the new ruler, shouldn't do unless ambitious, proud or hates ERE ruler and in all cases need to have picked "Sole Roman Empire" decision
		ai_chance = {
			factor = 0
			modifier = {
				factor = 10
				has_weak_claim = e_roman_empire
				trait = ambitious
			}
			modifier = {
				factor = 5
				has_weak_claim = e_roman_empire
				trait = proud
			}
			modifier = {
				factor = 10
				opinion_diff = {
					first = FROM
					second = ROOT
					value = 50
				}
				has_weak_claim = e_roman_empire
			}
		}
		set_global_flag = wre_not_recognised_ere
		custom_tooltip = {
			text = imperial_legacy.26.b.tooltip
		}
		e_byzantium = {
			holder_scope = {
				narrative_event = { id = imperial_legacy.28 }
			}
		}
	}
}

# WRE recognises ERE
narrative_event = {
	id = imperial_legacy.27
	title = imperial_legacy.27.name
	desc = imperial_legacy.27.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = imperial_legacy.27.a
		
		prestige = 100
	}
}

# WRE does not recognise ERE
narrative_event = {
	id = imperial_legacy.28
	title = imperial_legacy.28.name
	desc = imperial_legacy.28.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = imperial_legacy.28.a
		
		prestige = -100
	}
}

# Nicene Patriarch answer to restoration of ERE
narrative_event = {
	id = imperial_legacy.29
	title = imperial_legacy.29.name
	desc = imperial_legacy.29.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = OK # Recognise the new ruler, should do unless hates ERE ruler
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				trait = ambitious
			}
			modifier = {
				factor = 0.5
				trait = proud
			}
			modifier = {
				factor = 0
				opinion_diff = {
					first = FROM
					second = ROOT
					value = 50
				}
			}
		}
		if = {
			limit = {
				has_global_flag = wre_not_recognised_ere
			}
			hidden_tooltip = {
				any_playable_ruler = {
					limit = {
						religion = nicene
						controls_religion = yes
						has_landed_title = d_papal_state
					}
					character_event = { id = HRE.4 } # The Great Schism
				}
			}
		}
		
		e_byzantium = {
			holder_scope = {
				narrative_event = { id = imperial_legacy.30 }
			}
		}
		
		set_global_flag = nicene_patriarch_recognised_ere
	}
	option = {
		name = OK # Refuse to recognise the new ruler, shouldn't do unless hates ERE ruler
		
		ai_chance = {
			factor = 0
			modifier = {
				factor = 10
				opinion_diff = {
					first = FROM
					second = ROOT
					value = 50
				}
			}
			modifier = {
				factor = 10
				trait = ambitious
			}
			modifier = {
				factor = 5
				trait = proud
			}
		}
		
		e_byzantium = {
			holder_scope = {
				narrative_event = { id = imperial_legacy.31 }
			}
		}
		set_global_flag = nicene_patriarch_not_recognised_ere
	}
}

# Nicene Patriarch recognises ERE
narrative_event = {
	id = imperial_legacy.30
	title = imperial_legacy.30.name
	desc = imperial_legacy.30.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = imperial_legacy.30.a
		
		piety = 100
	}
}

# Nicene Patriarch does not recognise ERE
narrative_event = {
	id = imperial_legacy.31
	title = imperial_legacy.31.name
	desc = imperial_legacy.31.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = imperial_legacy.31.a
		
		ai_chance = {
			factor = 10
		}
		
		piety = -100
	}
	
	option = {
		name = imperial_legacy.31.b
		
		ai_chance = {
			factor = 0
		}
		
		piety = -100
		
		war = {
			target = FROM
			casus_belli = overthrow_ruler
		}
	}
}

# ERE ruler chooses how to act with Orthodox Patriarch after restoration
narrative_event = {
	id = imperial_legacy.32
	title = imperial_legacy.32.name
	desc = imperial_legacy.32.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = imperial_legacy.32.a # Give Hagia Sophia to Pope - Makes the Patriarch satisfied, he recognises the new ERE ruler, vassalises and more hostile towards West, but might ask for more later
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				trait = zealous
			}
			modifier = {
				factor = 0
				opinion_diff = {
					first = FROM
					second = ROOT
					value = 50
				}
			}
		}
		
		k_orthodox = {
			holder_scope = {
				narrative_event = { id = imperial_legacy.33 }
				if = {
					limit = {
						NOT = { has_landed_title = b_hagiasophia }
					}
					ROOT = {
						b_hagiasophia = {
							grant_title = PREV
						}
					}
				}
			}
		}
	}
	
	option = {
		name = imperial_legacy.32.b # Do not give Hagia Sophia to the Patriarch - Makes the Patriarch irritated, does not recognise the new ERE ruler and excommunicates him #add more flavour making Rome into capital
		
		ai_chance = {
			factor = 0
			modifier = {
				factor = 0
				trait = zealous
			}
			modifier = {
				factor = 10
				opinion_diff = {
					first = FROM
					second = ROOT
					value = 50
				}
			}
		}
		
		k_orthodox = {
			holder_scope = {
				narrative_event = { id = imperial_legacy.34 }
			}
		}
	}
}

# Orthodox Patriarch gets Hagia Sophia from ERE
narrative_event = {
	id = imperial_legacy.33
	title = imperial_legacy.33.name
	desc = imperial_legacy.33.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = OK # Recognise the new ERE ruler
		
		e_byzantium = {
			holder_scope = {
				narrative_event = { id = imperial_legacy.35 }
			}
		}
		
		any_playable_ruler = {
			limit = {
				religion = ROOT
			}
			narrative_event = { id = imperial_legacy.37 }
		}
	}
}

# Orthodox Patriarch does not get Hagia Sophia from ERE
narrative_event = {
	id = imperial_legacy.34
	title = imperial_legacy.34.name
	desc = imperial_legacy.34.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = OK # Refuse to recognise the new ERE ruler
		
		FROM = {
			excommunicate = yes
		}
		
		e_byzantium = {
			holder_scope = {
				narrative_event = { id = imperial_legacy.36 }
			}
		}
		
		any_playable_ruler = {
			limit = {
				religion = ROOT
			}
			narrative_event = { id = imperial_legacy.38 }
		}
	}
}

# Orthodox Patriarch recognises ERE
narrative_event = {
	id = imperial_legacy.35
	title = imperial_legacy.35.name
	desc = imperial_legacy.35.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = imperial_legacy.35.a
		
		piety = 100
	}
}

#  Orthodox Patriarch does not recognise ERE
narrative_event = {
	id = imperial_legacy.36
	title = imperial_legacy.36.name
	desc = imperial_legacy.36.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = imperial_legacy.36.a
		
		piety = -100
	}
}

# INFO - Orthodox Patriarch recognises ERE
narrative_event = {
	id = imperial_legacy.37
	title = imperial_legacy.37.name
	desc = imperial_legacy.37.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = imperial_legacy.37.a
	}
}
	
# INFO - Orthodox Patriarch does not recognise ERE
narrative_event = {
	id = imperial_legacy.38
	title = imperial_legacy.38.name
	desc = imperial_legacy.38.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = imperial_legacy.38.a
	}
}

# Adopt Bureaucratic government
narrative_event = {
	id = imperial_legacy.39
	title = imperial_legacy.39.name
	desc = imperial_legacy.39.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = imperial_legacy.39.a
		
		add_character_modifier = {
			name = bureaucratic_government_adoption
			duration = 3650 # 10 years
		}
		set_government_type = bureaucratic_government
		hidden_tooltip = {
			ROOT = {
				primary_title = {
					clr_title_flag = ere_restored
					clr_title_flag = wre_restored
					set_title_flag = adopted_bureaucratic # For bureaucratic government
				}
			}
		}
	}
}

# Hagia Sophia Construction Begun
character_event = {
	id = imperial_legacy.40
	desc = imperial_legacy.40.desc
	picture = GFX_evt_castle_construction
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	hide_from = yes
	
	immediate = {
		496 = { set_province_flag = building_hagia_sophia }
	}
	
	option = {
		name = imperial_legacy.40.a
	}
}

# Hagia Sophia Built
narrative_event = {
	id = imperial_legacy.41
	title = imperial_legacy.41.name
	desc = imperial_legacy.41.desc
	picture = GFX_evt_hagia_sofia
	border = GFX_event_narrative_frame_religion
	
	trigger = {
		496 = {
			had_province_flag = { flag = building_hagia_sophia days = 2100 }
		}
		NOT = { has_global_flag = hagia_sophia_built }
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	major = yes
	
	major_trigger = {
		ai = no
	}
	
	immediate = {
		set_global_flag = hagia_sophia_built
		clr_global_flag = building_hagia_sophia
		496 = { 
			clr_province_flag = building_hagia_sophia 
			add_wonder = wonder_cathedral_hagia_sophia
			add_wonder_stage = 3
		}
		random_realm_wonder = {
    		limit = {
    			has_wonder = wonder_cathedral_hagia_sophia
    		}
    		set_wonder_flag = Hagia_Sophia_nicene_cult
    	}
	}
	
	option = {
		name = imperial_legacy.41.a
	}
}

####  Events

# Handling the Western Imperial Regalia after the Fall of Rome
character_event = {
	id = imperial_legacy.42
	desc = imperial_legacy.42.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_normal_frame_diplomacy

	is_triggered_only = yes # Triggered by the Fall of Rome event (zusk_event.30)
	
	option = {
		name = imperial_legacy.42.a # Keep them
		ai_chance = {
			factor = 20
			modifier = {
				factor = 10
				trait = ambitious
			}
			modifier = {
				factor = 5
				trait = proud
			}
			modifier = {
				factor = 0
				trait = content
			}
		}
	}
	
	option = {
		name = imperial_legacy.42.b # Send them to the ERE emperor
		trigger = {
			is_title_active = e_byzantium
		}
		ai_chance = {
			factor = 60
			modifier = {
				factor = 10
				trait = content
			}
			modifier = {
				factor = 10
				trait = roman_nostalgia
			}
			modifier = {
				factor = 0
				e_byzantium = {
					holder_scope = {
						is_foe = ROOT
					}
				}
			}
		}
		
		e_byzantium = {
			holder_scope = {
				narrative_event = { id = imperial_legacy.43 days = 10 }
				ROOT = {
					any_artifact = {
					limit = { has_artifact_flag = western_regalia } # it's kind of a workaround
						transfer_artifact = {
							from = ROOT
							to = PREVPREV
						}
					}
				}
			}
		}
	}
	
	option = {
		name = imperial_legacy.42.c # Send them to the remaining WRE emperor
		trigger = {
			is_title_active = e_wre
		}
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				e_wre = {
					holder_scope = {
						is_foe = ROOT
					}
				}
			}
		}
		e_wre = {
			holder_scope = {
				narrative_event = { id = imperial_legacy.43 days = 10 }
				ROOT = {
					any_artifact = {
					limit = { has_artifact_flag = western_regalia } # it's kind of a workaround
						transfer_artifact = {
							from = ROOT
							to = PREVPREV
						}
					}
				}
			}
		}
	}
	
	option = {
		name = imperial_legacy.42.d # Send them to Soissons
		trigger = {
			is_title_active = k_soissons
		}
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				k_soissons = {
					holder_scope = {
						is_foe = ROOT
					}
				}
			}
		}
		k_soissons = {
			holder_scope = {
				narrative_event = { id = imperial_legacy.43 days = 10 }
				ROOT = {
					any_artifact = {
					limit = { has_artifact_flag = western_regalia } # it's kind of a workaround
						transfer_artifact = {
							from = ROOT
							to = PREVPREV
						}
					}
				}
			}
		}
	}
}

# Receiving the Western Imperial Regalia based upon the choice of the conqueror of Rome
narrative_event = {
	id = imperial_legacy.43
	title = imperial_legacy.43.name
	desc = imperial_legacy.43.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes

	option = {
		name = imperial_legacy.43.a # Recognise conqueror
		ai_chance = {
			factor = 100
		}
		custom_tooltip = {
			text = imperial_legacy.43.a.tooltip
		}
		c_roma = {
			holder_scope = {
				top_liege = {
					narrative_event = { id = imperial_legacy.44 days = 10 }
				}
			}
		}
	}
	
	option = {
		name = imperial_legacy.43.b # Thank vaguely without making any firm commitments
		ai_chance = {
			factor = 0
		}
		custom_tooltip = {
			text = imperial_legacy.43.b.tooltip
		}
	}
	
	option = {
		name = imperial_legacy.43.c # Refuse the Western Imperial Regalia sent by the conqueror
		ai_chance = {
			factor = 0
		}
		custom_tooltip = {
			text = imperial_legacy.43.c.tooltip
		}
		c_roma = {
			holder_scope = {
				top_liege = {
					any_artifact = {
						limit = { has_artifact_flag = western_regalia } # it's kind of a workaround
						transfer_artifact = {
							from = ROOT
							to = PREVPREV
						}
					}
					narrative_event = { id = imperial_legacy.45 days = 10 }
				}
			}
		}
	}
}

# Conqueror having sent the Western Imperial Regalia gets recognition in return
narrative_event = {
	id = imperial_legacy.44
	title = imperial_legacy.44.name
	desc = imperial_legacy.44.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = imperial_legacy.44.a
		
		prestige = 100
	}
}

# Conqueror having sent the Western Imperial Regalia gets it refused
narrative_event = {
	id = imperial_legacy.45
	title = imperial_legacy.45.name
	desc = imperial_legacy.45.desc
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = imperial_legacy.45.a
		
		prestige = -100
	}
}

# Latin remembering the legacy of the Romans
character_event = {
	id = imperial_legacy.46
	desc = imperial_legacy.46.desc
	picture = GFX_evt_monk
	border = GFX_event_normal_frame_religion
	
	capable_only = yes
	prisoner = no
	min_age = 16
	
	trigger = {
		NOT = { year = 1200 }
		NOT = { trait = roman_nostalgia }
		OR = {
			culture_group = latin
			culture = romano_british
		}
	}
	
	mean_time_to_happen = {
		years = 1000

		modifier = {
			factor = 0.9
			trait = just
		}
		modifier = {
			factor = 0.9
			trait = sympathy_christendom
		}
		modifier = {
			factor = 5
			NOT = { religion_group = christian }
			NOT = { religion = hellenic_pagan }
			NOT = { is_heresy_of = hellenic_pagan }
		}
		modifier = {
			factor = 0.2
			OR = {
				tier = emperor
				tier = king
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				religion = hellenic_pagan
				is_heresy_of = hellenic_pagan
			}
		}
		modifier = {
			factor = 2
			year = 800
		}
		modifier = {
			factor = 5
			year = 900
		}
		modifier = {
			factor = 10
			year = 1000
		}
		modifier = {
			factor = 20
			year = 1100
		}
	}
	
	option = {
		ai_chance = {
			factor = 50
		}
		name = imperial_legacy.46.a
		add_trait = roman_nostalgia
	}

	option = {
		ai_chance = {
			factor = 50
		}
		name = imperial_legacy.46.b
	}
}

# Western Imperial Navy without Ravenna
character_event = {
	id = imperial_legacy.47
	
	hide_window = yes
	only_rulers = yes

	trigger = {
		has_landed_title = d_imperial_fleet_wre
		NOT = {
			any_liege = {
				has_landed_title = c_ravenna
			}
			any_realm_lord = {
				has_landed_title = c_ravenna
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = OK
		liege = {
			narrative_event = { id = imperial_legacy.49 }
		}
	}
}

# Eastern Imperial Navy without Constantinople
character_event = {
	id = imperial_legacy.48
	
	hide_window = yes
	only_rulers = yes

	trigger = {
		has_landed_title = d_imperial_fleet_ere
		NOT = {
			any_liege = {
				has_landed_title = c_byzantion
			}
			any_realm_lord = {
				has_landed_title = c_byzantion
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = OK
		liege = {
			narrative_event = { id = imperial_legacy.49 }
		}
	}
}

# Notify the owner that the imperial navy is disbanding
# FROM is the navy commander
# ROOT is the liege
narrative_event = {
	id = imperial_legacy.49
	title = imperial_legacy.49.name
	desc = imperial_legacy.49.desc
	picture = GFX_evt_navy_roman
		
	is_triggered_only = yes
	
	option = {
		name = {
			text = EVTOPTALEG.3
			trigger = {
				OR = {
					has_landed_title = e_byzantium
					has_landed_title = e_wre
				}
			}
		}
		name = {
			text = EVTOPTBLEG.3
			trigger = {
				NOR = {
					has_landed_title = e_byzantium
					has_landed_title = e_wre
				}
			}
		}
		
		FROM = {
			# any_demesne_title mercenary = yes doesn't work
			any_mercenary_band = {
				limit = {
					holder_scope = {
						character = FROM
					}
				}
				activate_title = { title = THIS status = no }
				unsafe_destroy_landed_title = THIS
			}
		}
		
		if = {
			limit = {
				OR = {
					has_landed_title = e_byzantium
					has_landed_title = e_wre
				}
			}
			prestige = -100
		}
	}
}

# Division of the Roman Empire
narrative_event = {
	id = imperial_legacy.50
	title = imperial_legacy.50.name
	desc = imperial_legacy.50.desc
	picture = GFX_evt_divided_roman_empire
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = { # for localisation
		e_wre = {
			save_event_target_as = western_empire
		}
		e_byzantium = {
			save_event_target_as = eastern_empire
		}
		if = {
			limit = {
				any_child = {
					is_alive = yes
					has_inheritance_blocker = no
					count = 2
				}
			}
			random_child = {
				limit = { has_inheritance_blocker = no }
				save_event_target_as = target_first_child
			}
			random_child = {
				limit = {
					NOT = { character = event_target:target_first_child }
					has_inheritance_blocker = no
				}
				save_event_target_as = target_second_child
			}
		}
		else = {
			current_heir = {
				save_event_target_as = target_heir
			}
			random_dynasty_member = {
				limit = {
					is_heir = no
					has_inheritance_blocker = no
				}
				save_event_target_as = target_second_kin
			}
		}
	}
	
	option = {
		name = imperial_legacy.50.a # Give the West to your heir
		
		custom_tooltip = {
			text = imperial_legacy.50.a.tooltip
			
			clr_global_flag = rome_restored
			
			e_roman_empire = {
				any_direct_de_jure_vassal_title = {
					limit = {
						capital_scope = {
							would_be_in_wre_trigger = yes
						}
					}
					de_jure_liege = e_wre
				}
				any_direct_de_jure_vassal_title = {
					limit = {
						capital_scope = {
							would_be_in_byzantium_trigger = yes
						}
					}
					de_jure_liege = e_byzantium
				}
			}
			
			activate_title = { title = e_wre status = yes }
			current_heir = {
				if = {
					limit = {
						OR = {
							is_landed = no
							capital_scope = {
								would_be_in_wre_trigger = no
							}
						}
					}
					c_ravenna = {
						grant_title_no_opinion = PREV
					}
				}
				e_wre = {
					grant_title = PREV
				}
				ROOT = {
					if = {
						limit = {
							capital_scope = {
								would_be_in_byzantium_trigger = no
							}
						}
						c_byzantion = {
							grant_title_no_opinion = PREV
						}
					}
					activate_title = { title = e_byzantium status = yes }
					e_byzantium = {
						grant_title = PREV
					}
					e_roman_empire = {
						destroy_landed_title = PREV
					}
					transfer_scaled_wealth = { to = PREV value = 0.5 }
					
					any_vassal = {
						limit = {
							capital_scope = {
								would_be_in_wre_trigger = yes
							}
						}
						set_defacto_liege = PREVPREV
					}
					any_demesne_title = {
						limit = {
							capital_scope = {
								would_be_in_wre_trigger = yes
							}
						}
						grant_title_no_opinion = PREVPREV
					}
				}
				
				any_vassal = {
					limit = {
						capital_scope = {
							would_be_in_byzantium_trigger = yes
						}
					}
					set_defacto_liege = ROOT
				}
				any_demesne_title = {
					limit = {
						capital_scope = {
							would_be_in_byzantium_trigger = yes
						}
					}
					grant_title_no_opinion = ROOT
				}
			}
		}
	}
	option = {
		name = imperial_legacy.50.b # Give the East to your heir
		
		custom_tooltip = {
			text = imperial_legacy.50.b.tooltip
			
			clr_global_flag = rome_restored
			
			e_roman_empire = {
				any_direct_de_jure_vassal_title = {
					limit = {
						capital_scope = {
							would_be_in_wre_trigger = yes
						}
					}
					de_jure_liege = e_wre
				}
				any_direct_de_jure_vassal_title = {
					limit = {
						capital_scope = {
							would_be_in_byzantium_trigger = yes
						}
					}
					de_jure_liege = e_byzantium
				}
			}
		
			activate_title = { title = e_byzantium status = yes }
			current_heir = {
				if = {
					limit = {
						OR = {
							is_landed = no
							capital_scope = {
								would_be_in_byzantium_trigger = no
							}
						}
					}
					c_byzantion = {
						grant_title_no_opinion = PREV
					}
				}
				e_byzantium = {
					grant_title = PREV
				}
				ROOT = {
					if = {
						limit = {
							capital_scope = {
								would_be_in_wre_trigger = no
							}
						}
						c_ravenna = {
							grant_title_no_opinion = PREV
						}
					}
					activate_title = { title = e_wre status = yes }
					e_wre = {
						grant_title = PREV
					}
					e_roman_empire = {
						destroy_landed_title = PREV
					}
					transfer_scaled_wealth = { to = PREV value = 0.5 }
					
					any_vassal = {
						limit = {
							capital_scope = {
								would_be_in_byzantium_trigger = yes
							}
						}
						set_defacto_liege = PREVPREV
					}
					any_demesne_title = {
						limit = {
							capital_scope = {
								would_be_in_byzantium_trigger = yes
							}
						}
						grant_title_no_opinion = PREVPREV
					}
				}
				
				any_vassal = {
					limit = {
						capital_scope = {
							would_be_in_wre_trigger = yes
						}
					}
					set_defacto_liege = ROOT
				}
				any_demesne_title = {
					limit = {
						capital_scope = {
							would_be_in_wre_trigger = yes
						}
					}
					grant_title_no_opinion = ROOT
				}
			}
		}
	}

	option = {
		name = imperial_legacy.50.c # Abdicate and divide the Empire between two children
		trigger = {
			any_child = {
				is_alive = yes
				has_inheritance_blocker = no
				count = 2
			}
			event_target:target_first_child = {
				has_inheritance_blocker = no
			}
			event_target:target_second_child = {
				has_inheritance_blocker = no
			}
		}
		
		custom_tooltip = {
			text = imperial_legacy.50.c.tooltip
			
			clr_global_flag = rome_restored
			
			remove_trait = augustus
			
			any_demesne_title = {
				grant_title_no_opinion = event_target:target_first_child
			}
			
			e_roman_empire = {
				any_direct_de_jure_vassal_title = {
					limit = {
						capital_scope = {
							would_be_in_wre_trigger = yes
						}
					}
					de_jure_liege = e_wre
				}
				any_direct_de_jure_vassal_title = {
					limit = {
						capital_scope = {
							would_be_in_byzantium_trigger = yes
						}
					}
					de_jure_liege = e_byzantium
				}
			}
			
			activate_title = { title = e_byzantium status = yes }
			event_target:target_first_child = {
				if = {
					limit = {
						OR = {
							is_landed = no
							capital_scope = {
								would_be_in_byzantium_trigger = no
							}
						}
					}
					c_byzantion = {
						grant_title_no_opinion = PREV
					}
				}
				e_byzantium = {
					grant_title = PREV
				}
				e_roman_empire = {
					destroy_landed_title = PREV
				}
				event_target:target_second_child = {
					if = {
						limit = {
							OR = {
								is_landed = no
								capital_scope = {
									would_be_in_wre_trigger = no
								}
							}
						}
						c_ravenna = {
							grant_title_no_opinion = PREV
						}
					}
					activate_title = { title = e_wre status = yes }
					e_wre = {
						grant_title = PREV
					}
					any_vassal = {
						limit = {
							capital_scope = {
								would_be_in_byzantium_trigger = yes
							}
						}
						set_defacto_liege = PREVPREV
					}
					any_demesne_title = {
						limit = {
							capital_scope = {
								would_be_in_byzantium_trigger = yes
							}
						}
						grant_title_no_opinion = PREVPREV
					}
				}
				event_target:target_second_child = {
					event_target:target_first_child = {
						transfer_scaled_wealth = { to = PREV value = 0.5 }
						any_vassal = {
							limit = {
								capital_scope = {
									would_be_in_wre_trigger = yes
								}
							}
							set_defacto_liege = PREVPREV
						}
						any_demesne_title = {
							limit = {
								capital_scope = {
									would_be_in_wre_trigger = yes
								}
							}
							grant_title_no_opinion = PREVPREV
						}
					}
				}
			}
		}
	}
	
	option = {
		name = imperial_legacy.50.d # Abdicate and divide the Empire between two kins
		trigger = {
			NOT = {
				any_child = {
					is_alive = yes
					count = 2
				}
			}
			event_target:target_heir = {
				dynasty = ROOT
			}
			event_target:target_second_kin = {
				has_inheritance_blocker = no
			}
		}
		
		custom_tooltip = {
			text = imperial_legacy.50.d.tooltip
			
			clr_global_flag = rome_restored
			
			remove_trait = augustus
			
			event_target:target_heir = {
				ROOT = {
					any_demesne_title = {
						grant_title_no_opinion = PREVPREV
					}
				}
			}
			
			e_roman_empire = {
				any_direct_de_jure_vassal_title = {
					limit = {
						capital_scope = {
							would_be_in_wre_trigger = yes
						}
					}
					de_jure_liege = e_wre
				}
				any_direct_de_jure_vassal_title = {
					limit = {
						capital_scope = {
							would_be_in_byzantium_trigger = yes
						}
					}
					de_jure_liege = e_byzantium
				}
			}
			
			activate_title = { title = e_byzantium status = yes }
			event_target:target_heir = {
				if = {
					limit = {
						OR = {
							is_landed = no
							capital_scope = {
								would_be_in_byzantium_trigger = no
							}
						}
					}
					c_byzantion = {
						grant_title_no_opinion = PREV
					}
				}
				e_byzantium = {
					grant_title = PREV
				}
				e_roman_empire = {
					destroy_landed_title = PREV
				}
				event_target:target_second_kin = {
					if = {
						limit = {
							OR = {
								is_landed = no
								capital_scope = {
									would_be_in_wre_trigger = no
								}
							}
						}
						c_ravenna = {
							grant_title_no_opinion = PREV
						}
					}
					activate_title = { title = e_wre status = yes }
					e_wre = {
						grant_title = PREV
					}
						any_vassal = {
							limit = {
								capital_scope = {
									would_be_in_byzantium_trigger = yes
								}
							}
							set_defacto_liege = PREVPREV
						}
						any_demesne_title = {
							limit = {
								capital_scope = {
									would_be_in_byzantium_trigger = yes
								}
							}
							grant_title_no_opinion = PREVPREV
						}
				}
				event_target:target_second_kin = {
					event_target:target_heir = {
						transfer_scaled_wealth = { to = PREV value = 0.5 }
						any_vassal = {
							limit = {
								capital_scope = {
									would_be_in_wre_trigger = yes
								}
							}
							set_defacto_liege = PREVPREV
						}
						any_demesne_title = {
							limit = {
								capital_scope = {
									would_be_in_wre_trigger = yes
								}
							}
							grant_title_no_opinion = PREVPREV
						}
					}
				}
			}
		}
	}
	
	option = {
		name = imperial_legacy.50.e # Resign
		
		custom_tooltip = {
			text = imperial_legacy.50.e.tooltip
		}
	}
}