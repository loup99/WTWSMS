# Merged from PB_employment_decisions and employment_decisions from VIET
# Warning: do not add vanilla employment decision, as they would conflict and be broken !
decisions = {
	employ_diplomat = {
		potential = {
			is_ruler = yes
			OR = {
				ai = no
				higher_tier_than = count
			}
		}
		allow = {
			scaled_wealth = 0.2
		}
		effect = {
			scaled_wealth = -0.2
			create_random_diplomat = {
				random_traits = yes
				dynasty = random
				female = no
			}
			new_character = {
				hidden_tooltip = {
					if = {
						limit = {
							religion_group = indian_group
						}
						add_trait = kshatriya
						character_event = { id = RoI.30121 }
					}
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { scaled_wealth = 0.6 }
			}
			modifier = {
				factor = 0
				job_chancellor = {
					diplomacy = 10
				}
			}
			modifier = {
				factor = 0
				any_vassal = {
					diplomacy = 10
					OR = {
						is_female = no
						liege = {
							primary_title = {
								has_law = true_cognatic_succession
							}
						}
					}
					age = 16
					prisoner = no
					NOT = { trait = incapable }
				}
			}
			modifier = {
				factor = 0
				any_courtier = {
					diplomacy = 10
					OR = {
						is_female = no
						liege = {
							primary_title = {
								has_law = true_cognatic_succession
							}
						}
					}
					age = 16
					prisoner = no
					NOT = { trait = incapable }
				}
			}
		}
	}

	employ_spy = {
		potential = {
			is_ruler = yes
			OR = {
				ai = no
				higher_tier_than = count
			}
		}
		allow = {
			scaled_wealth = 0.2
		}
		effect = {
			scaled_wealth = -0.2
			create_random_intriguer = {
				random_traits = yes
				dynasty = random
			}
			new_character = {
				hidden_tooltip = {
					if = {
						limit = {
							religion_group = indian_group
						}
						add_trait = kshatriya
						character_event = { id = RoI.30121 }
					}
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { scaled_wealth = 0.6 }
			}
			modifier = {
				factor = 0
				job_spymaster = {
					intrigue = 10
				}
			}
			modifier = {
				factor = 0
				any_vassal = {
					intrigue = 10
					age = 16
					prisoner = no
					NOT = { trait = incapable }
				}
			}
			modifier = {
				factor = 0
				any_courtier = {
					intrigue = 10
					age = 16
					prisoner = no
					NOT = { trait = incapable }
				}
			}
		}
	}
	
	employ_eunuch = { #Employ eunuch
		potential = {
			is_ruler = yes
			OR = {
				ai = no
				higher_tier_than = count
			}
			OR = {
				religion_group = muslim
				culture_group = iranian
				culture_group = altaic
				culture_group = byzantine
				culture_group = south_semitic
				culture_group = east_african
				culture_group = west_african
				culture_group = central_african
				religion = cybelian_pagan # Holy eunuchs were a major part of Cybelian clergy
			}
		}
		allow = {
			scaled_wealth = 0.2
		}
		effect = {
			scaled_wealth = -0.2
			random_list = {
				20 = {
					create_random_steward = {
						random_traits = yes
						trait = eunuch
						dynasty = random
						female = no
					}
				}
				20 = {
					create_random_diplomat = {
						random_traits = yes
						trait = eunuch
						dynasty = random
						female = no
					}
				}
				20 = {
					create_random_soldier = {
						random_traits = yes
						trait = eunuch
						dynasty = random
						female = no
					}
				}
				20 = {
					create_random_intriguer = {
						random_traits = yes
						trait = eunuch
						dynasty = random
						female = no
					}
				}
				20 = {
					create_random_priest = {
						random_traits = yes
						trait = eunuch
						dynasty = random
						female = no
					}
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { scaled_wealth = 0.6 }
			}
			modifier = {
				factor = 0
				any_courtier = {
					trait = eunuch
				}
			}
			modifier = {
				factor = 0
				job_marshal = {
					martial = 13
				}
			}
			modifier = {
				factor = 0
				any_vassal = {
					martial = 13
					is_female = no
					age = 16
					prisoner = no
					NOT = { trait = incapable }
				}
			}
			modifier = {
				factor = 0
				any_courtier = {
					martial = 13
					is_female = no
					age = 16
					prisoner = no
					NOT = { trait = incapable }
				}
			}
			modifier = {
				factor = 0
				job_spymaster = {
					intrigue = 13
				}
			}
			modifier = {
				factor = 0
				any_vassal = {
					intrigue = 13
					age = 16
					prisoner = no
					NOT = { trait = incapable }
				}
			}
			modifier = {
				factor = 0
				any_courtier = {
					intrigue = 13
					age = 16
					prisoner = no
					NOT = { trait = incapable }
				}
			}
			modifier = {
				factor = 0
				job_chancellor = {
					diplomacy = 13
				}
			}
			modifier = {
				factor = 0
				any_vassal = {
					diplomacy = 13
					OR = {
						is_female = no
						liege = {
							primary_title = {
								has_law = true_cognatic_succession
							}
						}
					}
					age = 16
					prisoner = no
					NOT = { trait = incapable }
				}
			}
			modifier = {
				factor = 0
				any_courtier = {
					diplomacy = 13
					OR = {
						is_female = no
						liege = {
							primary_title = {
								has_law = true_cognatic_succession
							}
						}
					}
					age = 16
					prisoner = no
					NOT = { trait = incapable }
				}
			}
		}
	}	
	
	take_courtier_as_concubine = { # AI Pagan rulers get concubines
		potential = {
			is_ruler = yes
			higher_tier_than = baron
			is_adult = yes
			is_female = no
			NOT = { trait = incapable }
			OR = {
				religion_group = pagan_group
				religion_group = zoroastrian_group
				religion_group = indian_group
			}
		}
		allow = {
			#any_courtier = {
			#	is_consort = no
			#}
		}
		effect = {
			create_character = {
				random_traits = yes
				dynasty = random
				female = yes
			}
			new_character = {
				add_consort = ROOT
			}
			set_character_flag = concubine_decision_taken
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.2
			}
			modifier = {
				factor = 0
				any_courtier = {
					is_consort = yes
				}
			}
			modifier = {
				factor = 0
				has_character_flag = concubine_decision_taken
			}
			modifier = {
				factor = 2
				trait = lustful
			}
			modifier = {
				factor = 2
				trait = gregarious
			}
			modifier = {
				factor = 0.5
				trait = chaste
			}
			modifier = {
				factor = 0.5
				trait = celibate
			}
			modifier = {
				factor = 2
				trait = hedonist
			}
			modifier = {
				factor = 0.5
				trait = incapable
			}
		}
	}

	1_800_choke_dat_ho = {
		potential = {
			religion = borborites
			is_adult = yes
			is_female = no
			is_ruler = yes
			NOT = {
				trait = incapable
				trait = chaste
				trait = celibate
				trait = monk
				trait = nun
			}
		}
		allow = {
			prestige = 500
			piety = 100
			custom_tooltip = {
				name = choke_dat_ho_tt
				hidden_tooltip = {
					NOT = {
						any_courtier = {
							has_minor_title = title_primary_shrine_prostitute
						}
					}
					NOT = {
						has_character_flag = 1800_choke_dat_ho
					}
				}
			}
		}
		effect = {
			scaled_wealth = -0.05
			piety = -25
			custom_tooltip = {
				name = dont_hate_the_player
				hidden_tooltip = {
					create_character = {
						random_traits = yes
						dynasty = NONE
						female = yes
						age = 16
						trait = fair
						trait = fertile
						trait = lustful
						culture = ROOT
						race = coptic
						religion = borborites
						trait = seductress
						trait = melodious_voice
					}
					new_character = {
						remove_trait = ugly
						remove_trait = hunchback
						remove_trait = mangled
						remove_trait = wrymouth
						remove_trait = disfigured
						remove_trait = chaste
						remove_trait = temperate
						remove_trait = celibate
						add_trait = whoreborite
						add_consort = ROOT
						save_event_target_as = invited_character
						give_minor_title = title_primary_shrine_prostitute
					}
#					set_character_flag = { 
#						flag = 1800_choke_dat_ho
#						days = 2191
#					}
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.05
				any_courtier = {
					is_consort = yes
				}
			}
			modifier = {
				factor = 0
				has_character_flag = 1800_choke_dat_ho
			}
			modifier = {
				factor = 8
				trait = lustful
			}
			modifier = {
				factor = 2
				trait = gregarious
			}
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 8
				trait = hedonist
			}
			modifier = {
				factor = 0
				trait = incapable
			}
			modifier = {
				factor = 20
				trait = zealous
			}
			modifier = {
				factor = 0
				OR = {
					any_courtier = {
						has_minor_title = title_primary_shrine_prostitute
					}
				}
			}
		}
	}
}

